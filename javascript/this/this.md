## this

- 由于js的设计原理：在函数中，可以引用运行环境中的变量，因此就需要一个机制来让我们可以在函数体内部获取当前的运行环境，这便是this。

- this在任何情况下都不指向函数的词法作用域。在javascript内部，作用域和对象类似，可以的标识符都是它的属性，但是作用域“对象”无法通过javascript代码访问，它存在于javascript引擎内部。

- this是在运行时绑定的，并不是在编写时绑定，它的上下文取决于函数调用时的各种条件。this的绑定和函数声明的位置没有任何关系，只取决于函数的调用方式

- 当一个函数被调用时，会创建一个活动记录（执行上下文），这个记录会包含函数在哪里被调用（调用栈），函数的调用方式、传入的参数等信息。this就是这个记录的一个属性，会在函数执行的过程中用到

- 需要明白this既不指向函数自身也不指向函数的词法作用域，this实际上是在函数被调用时发生的绑定，它指向什么完全取决于函数在哪里被调用

- 调用位置就是寻找“函数被调用的位置”，某些编程模式可能会隐藏真正的调用位置，**最重要的是分析调用栈（就是为了到达当前执行位置所调用的所有函数）**