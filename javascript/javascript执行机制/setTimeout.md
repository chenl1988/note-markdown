## setTimeout

- 异步,可以延时执行

- setTimeout这个函数，是在经过指定时间后，把执行的任务加入到Event Queue中，又因为js是单线程任务要一个一个的执行，如果前面的任务需要的时间太久，那么只能等着，导致真正延迟时间远远大于3秒

```
setTimeout(() => {
    task()
},3000)

sleep(10000000);
/*
  代码执行过程：
    1、task进入EventTable并注册，计时开始
    2、执行sleep函数，很慢，非常慢，计时仍在继续
    3、3秒到了，计时事件timeout事件完成，task()进入到Event Queue中，但是sleep函数很慢，还没有执行完，所以只好等着
    4、sleep终于执行完成了，task()终于进入到主线程开始执行
*/
```

- 我们还经常遇到setTimeout(fn,0);这样的代码：含义是，指定某个任务在主线程最早可得的空闲时间执行，意思就是不用再等多少秒了，只要主线程执行栈内的同步任务全部执行完成，栈为空就马上执行

```
//代码1
console.log('先执行这里');
setTimeout(() => {
    console.log('执行啦')
},0);
//先执行这里
//执行啦

//代码2
console.log('先执行这里');
setTimeout(() => {
    console.log('执行啦')
},3000);
//先执行这里
// ... 3s later
// 执行啦
```